!function(n,a,t){function i(n){function i(){var n=d&&a(d)||a("<div>"+r+"</div>"),i=g&&a(g)||a("<div>"+c+"</div>");t.addClassName(n,"loading"),t.addClassName(n,"navigator-loading"),t.addClassName(i,"loading"),t.addClassName(i,"content-loading"),l.$navigatorWrap.append(n),l.$contentWrap.append(i),l.$navigatorLoading=n,l.$contentLoading=i}var e=a.extend({},o,n),d=e.navigator.selector,r=e.navigator.text,g=e.content.selector,c=e.content.text,l=this,s=l.config;l.handler("initLoading",i,{priority:0}),s.navigatorCallbackQueue.unshift({prepare:function(){var n=this;n.$navigator.empty(),n.$navigatorLoading.show()},"finally":function(){this.$navigatorLoading.hide()}}),s.routeCallbackQueue.unshift({prepare:function(){var n=this;n.$content.empty(),n.$contentLoading.show()},"finally":function(){this.$contentLoading.hide()}})}var o={navigator:{selector:"",text:"loading..."},content:{selector:"",text:"loading..."}};t.potion.animateLoading=i}(window,jQuery,Magicbook);