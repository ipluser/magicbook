!function(t,e,a){function o(t){var a=e.extend({},i,t),o=a.locationSelector,c=a.catelogSelector,r=a.duration,l=a.gap,n=Math.random().toString(36).substr(2);return function(){var t=this,a=t.$contentWrap,i=t.$content,s=a.find(c),g=s.length,u='<div class="catelog-items-wrap"><ul class="catelog-items">';if(e(".catelog-items-wrap").remove(),g){for(var d=0;g>d;d++){var f=e(s[d]),m=f.attr("id");m&&"-"!==m||(m=n+d,f.attr("id",m)),u+='<li class="catelog-item"><a class="catelog-item__link" data-identifier="'+m+'"><b class="catelog-item__number">'+(d+1)+". </b>"+f.text()+"</a></li>"}u+="</ul></div>",o&&e(o).length&&e(o).after(u)||i.before(u),e(".catelog-items-wrap").off("click").on("click",".catelog-item__link",function(){t.moveTo({selector:"#"+e(this).attr("data-identifier"),duration:r,gap:l})})}}}var i={locationSelector:"",catelogSelector:"h3",duration:500,gap:30};a.potion.carryCatelog=function(t){var e=this,a=o(t);e.config.routeCallbackQueue.push({success:a})}}(window,jQuery,Magicbook);