!function(t,e,a){function o(t){var o=e.extend({},i,t),c=o.locationSelector,r=o.catelogSelector,l=o.duration,n=o.gap,s=a.randomString();return function(){var t=this,a=t.$contentWrap,o=t.$content,i=a.find(r),g=i.length,u='<div class="catelog-items-wrap"><ul class="catelog-items">';if(e(".catelog-items-wrap").remove(),g){for(var d=0;g>d;d++){var f=e(i[d]),m=f.attr("id");m&&"-"!==m||(m=s+d,f.attr("id",m)),u+='<li class="catelog-item"><a class="catelog-item__link" data-identifier="'+m+'"><b class="catelog-item__number">'+(d+1)+". </b>"+f.text()+"</a></li>"}u+="</ul></div>",c&&e(c).length&&e(c).after(u)||o.before(u),e(".catelog-items-wrap").off("click").on("click",".catelog-item__link",function(){t.moveTo({selector:"#"+e(this).attr("data-identifier"),duration:l,gap:n})})}}}var i={locationSelector:"",catelogSelector:"h3",duration:500,gap:30};a.potion.carryCatelog=function(t){var e=this,a=o(t);e.config.routeCallbackQueue.push({success:a})}}(window,jQuery,Magicbook);