!function(t,e,a){function o(t){var a=e.extend({},i,t),o=a.locationSelector,c=a.catelogSelector,l=a.duration,n=a.gap;return function(){var t=this,a=t.$contentWrap,i=t.$content,r=a.find(c),s=r.length,g='<div class="catelog-items-wrap"><ul class="catelog-items">';if(e(".catelog-items-wrap").remove(),s){for(var u=0;s>u;u++){var f=e(r[u]);g+='<li class="catelog-item"><a class="catelog-item__link" data-identifier="'+f.attr("id")+'"><b class="catelog-item__number">'+(u+1)+". </b>"+f.text()+"</a></li>"}g+="</ul></div>",o&&e(o).length&&e(o).after(g)||i.before(g),e(".catelog-items-wrap").off("click").on("click",".catelog-item__link",function(){t.moveTo({selector:"#"+e(this).attr("data-identifier"),duration:l,gap:n})})}}}var i={locationSelector:"",catelogSelector:"h3",duration:500,gap:30};a.potion.carryCatelog=function(t){var e=this,a=o(t);e.config.routeCallbackQueue.push({success:a})}}(window,jQuery,Magicbook);