!function(n,o){if(!n.document)throw new Error("magicbook requires a window with a document");"object"==typeof module&&"object"==typeof module.exports?module.exports=o(require("jquery"),require("magicbookjs"),n):"function"==typeof define&&define.amd?define(["jquery","magicbook"],o($,Magicbook,n)):o(n.jQuery,Magicbook,n)}("undefined"!=typeof window?window:this,function(n,o,t){function e(t){function e(){var t=d&&n(d)||n("<div>"+r+"</div>"),e=c&&n(c)||n("<div>"+g+"</div>");o.addClassName(t,"loading"),o.addClassName(t,"navigator-loading"),o.addClassName(e,"loading"),o.addClassName(e,"content-loading"),u.$navigatorWrap.append(t),u.$contentWrap.append(e),u.$navigatorLoading=t,u.$contentLoading=e}var i=n.extend({},a,t),d=i.navigator.selector,r=i.navigator.text,c=i.content.selector,g=i.content.text,u=this,l=u.config;u.handler("initLoading",e,{priority:0}),l.navigatorCallbackQueue.unshift({prepare:function(){var n=this;n.$navigator.empty(),n.$navigatorLoading.show()},"finally":function(){this.$navigatorLoading.hide()}}),l.routeCallbackQueue.unshift({prepare:function(){var n=this;n.$content.empty(),n.$contentLoading.show()},"finally":function(){this.$contentLoading.hide()}})}var a={navigator:{selector:"",text:"loading..."},content:{selector:"",text:"loading..."}};o.potion.animateLoading=e});