!function(e,t){if(!e.document)throw new Error("magicbook requires a window with a document");"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery"),require("magicbookjs"),e):"function"==typeof define&&define.amd?define(["jquery","magicbook"],t($,Magicbook,e)):t(e.jQuery,Magicbook,e)}("undefined"!=typeof window?window:this,function(e,t,o){function i(o){var i=e.extend({},a,o),r=i.locationSelector,c=i.catelogSelector,n=i.duration,l=i.gap,u=t.randomString();return function(){var t=this,o=t.$contentWrap,i=t.$content,a=o.find(c),d=a.length,s='<div class="catelog-items-wrap"><ul class="catelog-items">';if(e(".catelog-items-wrap").remove(),d){for(var f=0;d>f;f++){var g=e(a[f]),m=g.attr("id");m&&"-"!==m||(m=u+f,g.attr("id",m)),s+='<li class="catelog-item"><a class="catelog-item__link" data-identifier="'+m+'"><b class="catelog-item__number">'+(f+1)+". </b>"+g.text()+"</a></li>"}s+="</ul></div>",r&&e(r).length&&e(r).after(s)||i.before(s),e(".catelog-items-wrap").off("click").on("click",".catelog-item__link",function(){t.moveTo({selector:"#"+e(this).attr("data-identifier"),duration:n,gap:l})})}}}var a={locationSelector:"",catelogSelector:"h3",duration:500,gap:30};t.potion.carryCatelog=function(e){var t=this,o=i(e);t.config.routeCallbackQueue.push({success:o})}});