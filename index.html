<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="renderer" content="webkit">
  <meta name="description" content="An lightweight and scalable docs system for markdown.">
  <meta name="keywords" content="magicbook,markdown,magic,book,docs system,document system">
  <title>magicbook - An lightweight and scalable docs system for markdown, text or other.</title>

  <link rel="stylesheet" type="text/css" href="public/css/magicbook.css" />
  <link rel="stylesheet" type="text/css" href="public/css/prism-okaidia.css" />
</head>
<body>
  <div class="magicbook-container"></div>

  <script src="public/js/jquery-1.11.0.min.js"></script>
  <script src="lib/magicbook.js"></script>
  <script src="public/js/marked.js"></script>
  <script src="public/js/prism.js"></script>
  <script>
    var routeCallback = {
      success: function (data) {
        var $codes = $('pre > code');
        for (var index in $codes) {
          var $code = $($codes[index]);
          var codeClass = $code.attr('class');

          if (!codeClass) {
            return ;
          }

          codeClass = codeClass.replace(/^|\s+lang\-/g, ' language-');
          $code.attr('class', codeClass);
          $code.parent().addClass(codeClass);
        }
      }
    };

    var book = new Magicbook({
      container: '.magicbook-container',
      homeUrl: 'home.md',
      urlArgs: 'ver=0.4.0',
      flip: false,
      routeCallback: routeCallback
    });

    marked.setOptions({
      highlight: function (code, lang) {
        return Prism.highlight(code, Prism.languages[lang]);
      }
    });

    book.potion('parser', marked);
    book.show();
  </script>
</body>
</html>